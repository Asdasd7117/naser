<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Manager</title>
<link rel="stylesheet" href="css/style.css">
<script src="js/lang.js" defer></script>
<script src="js/app.js" defer></script>
</head>
<body onload="loadReports();">

<h1 data-translate="tasks_title">لوحة التحكم والإحصائيات</h1>

<h2 data-translate="report_title">التقارير والملاحظات</h2>
<div id="reports-list"></div>

<button onclick="toggleLanguage()" data-translate="toggle_lang">عربي/English</button>

<script>
async function loadReports(){
  const res = await fetch('/api/reports');
  const reports = await res.json();
  const container = document.getElementById('reports-list');
  container.innerHTML='';
  reports.forEach(r=>{
    const div = document.createElement('div');
    div.innerHTML=`<b>مندوب:</b> ${r.delegate} | <b>ملاحظات:</b> ${r.notes} | <b>تاريخ:</b> ${new Date(r.createdAt).toLocaleString()}
    <button onclick="alert('إضافة ملاحظات / تعليمات')">إضافة تعليمات</button>`;
    container.appendChild(div);
  });
}
</script>
</body>
</html>
