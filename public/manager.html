<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>المدير</title>
<link rel="stylesheet" href="css/style.css">
<script src="js/lang.js"></script>
<script src="js/app.js"></script>
</head>
<body>
<h1>لوحة التحكم والإحصائيات</h1>
<div id="manager-controls">
<button onclick="toggleLanguage()">عربي/English</button>
</div>
<div id="reports-list"></div>
<script>
async function loadReports(){
  const reports = await fetch('/api/reports').then(r=>r.json());
  const container = document.getElementById('reports-list');
  container.innerHTML = '';
  reports.forEach(r=>{
    const div=document.createElement('div');
    div.innerHTML=`<b>${r.delegate}</b> - ${r.notes} - ${r.createdAt}<br>`;
    r.images.forEach(img=>{ div.innerHTML+=`<img src="${img}" width="100">`; });
    if(r.signature) div.innerHTML+=`<br>توقيع: <img src="${r.signature}" width="100">`;
    container.appendChild(div);
  });
}
loadReports();
</script>
</body>
</html>