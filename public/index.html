<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login</title>
<link rel="stylesheet" href="css/style.css">
<style>
  .login-header {
    text-align: center;
    font-size: 2em;
    font-weight: bold;
    margin-bottom: 20px;
    color: #27ae60; /* أخضر جذاب */
  }
  .login-container {
    max-width: 400px;
    margin: auto;
    padding: 20px;
  }
</style>
<script defer>
  // ===================== الترجمات =====================
  const translations = {
    ar: {
      page_title: "نظام إدارة الزيارات",
      login_title: "تسجيل الدخول",
      login_user: "البريد الإلكتروني / رقم الهاتف",
      login_pass: "كلمة المرور",
      role_delegate: "مندوب",
      role_supervisor: "مشرف",
      role_manager: "مدير",
      login_button: "تسجيل الدخول",
      forgot_pass: "نسيت كلمة المرور؟",
      toggle_lang: "عربي / English"
    },
    en: {
      page_title: "Visit Management System",
      login_title: "Login",
      login_user: "Email / Phone",
      login_pass: "Password",
      role_delegate: "Delegate",
      role_supervisor: "Supervisor",
      role_manager: "Manager",
      login_button: "Login",
      forgot_pass: "Forgot Password?",
      toggle_lang: "Arabic / English"
    }
  };

  // ===================== بيانات المستخدمين التجريبية =====================
  const users = [
    { user: "delegate1", password: "12345", role: "delegate" },
    { user: "supervisor1", password: "12345", role: "supervisor" },
    { user: "manager1", password: "12345", role: "manager" }
  ];

  // ===================== اللغة =====================
  function toggleLanguage() {
    const current = document.documentElement.lang;
    const newLang = current === "ar" ? "en" : "ar";
    document.documentElement.lang = newLang;
    applyTranslations(newLang);
  }

  function applyTranslations(lang) {
    document.querySelectorAll("[data-translate]").forEach(el => {
      const key = el.getAttribute("data-translate");
      if (translations[lang][key]) el.innerText = translations[lang][key];
    });
  }

  // ===================== تسجيل الدخول =====================
  function login() {
    const username = document.getElementById("login-user").value;
    const password = document.getElementById("login-pass").value;
    const role = document.getElementById("role").value;

    const user = users.find(u => u.user === username && u.password === password && u.role === role);

    if(user) {
      // تحويل إلى الشاشة حسب الدور
      switch(role) {
        case "delegate":
          alert("تم تسجيل الدخول كمندوب ✅");
          window.location.href = "delegate.html"; // ضع رابط شاشة المندوب
          break;
        case "supervisor":
          alert("تم تسجيل الدخول كمشرف ✅");
          window.location.href = "supervisor.html"; // ضع رابط شاشة المشرف
          break;
        case "manager":
          alert("تم تسجيل الدخول كمدير ✅");
          window.location.href = "manager.html"; // ضع رابط شاشة المدير
          break;
      }
    } else {
      alert("خطأ في بيانات الدخول! حاول مرة أخرى.");
    }
  }

  window.onload = function(){
    applyTranslations(document.documentElement.lang);
  }
</script>
</head>
<body>
<div class="login-container">

  <!-- عنوان أعلى الصفحة باللون الأخضر -->
  <div class="login-header" data-translate="page_title">نظام إدارة الزيارات</div>

  <h2 data-translate="login_title">تسجيل الدخول</h2>
  
  <!-- البريد الإلكتروني / الهاتف -->
  <input type="text" id="login-user" placeholder="البريد الإلكتروني / رقم الهاتف" data-translate="login_user">
  
  <!-- كلمة المرور -->
  <input type="password" id="login-pass" placeholder="كلمة المرور" data-translate="login_pass">
  
  <!-- اختيار الدور -->
  <select id="role">
    <option value="delegate" data-translate="role_delegate">مندوب</option>
    <option value="supervisor" data-translate="role_supervisor">مشرف</option>
    <option value="manager" data-translate="role_manager">مدير</option>
  </select>
  
  <!-- زر تسجيل الدخول -->
  <button onclick="login()" data-translate="login_button">تسجيل الدخول</button>
  
  <!-- نسيت كلمة المرور -->
  <span class="forgot" onclick="alert('يرجى التواصل مع الإدارة لإعادة تعيين كلمة المرور')" data-translate="forgot_pass">نسيت كلمة المرور؟</span>
  
  <!-- تبديل اللغة -->
  <button onclick="toggleLanguage()" data-translate="toggle_lang">عربي / English</button>
</div>
</body>
</html>
